#!/bin/sh

if [ $# -eq 0 ] || ! [ -t 1 ]; then 
	exec cat "$@"
fi

for f in "$@"; do
	if echo "$f" | grep -q "\.txt$" || [ "$(wc -l < "$f")" -gt 500 ]; then
		cat "$f"
	else
		vimcat "$f"
	fi
done
